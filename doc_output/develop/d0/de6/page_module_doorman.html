<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Leosac: Module: Doorman</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<!--<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>-->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Leosac
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
   <div id="projectbrief">Open Source Access Control</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d0/de6/page_module_doorman.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Module: Doorman </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#mod_doorman_main">Doorman Module Documentation</a></li>
<li class="level1"><a href="#mod_doorman_intro">Introduction</a></li>
<li class="level1"><a href="#mod_doorman_user_config">Configuration Options</a><ul><li class="level2"><a href="#mod_doorman_example_0">Example 0</a></li>
<li class="level2"><a href="#mod_doorman_example_1">Example 1</a></li>
</ul>
</li>
<li class="level1"><a href="#mod_doorman_relay_wiring">Relay Wiring</a></li>
</ul>
</div>
<div class="textblock"><p>Module that reacts to authentication event.</p>
<h1><a class="anchor" id="mod_doorman_main"></a>
Doorman Module Documentation</h1>
<h1><a class="anchor" id="mod_doorman_intro"></a>
Introduction</h1>
<p>The Doorman module is very important to <a class="el" href="../../d6/d58/namespaceLeosac.html" title="This is the header file for a generated source file, GitSHA1.cpp.">Leosac</a>'s usability. It is the module responsible for reacting to messages sent by authentication / authorization modules.</p>
<p>If an access is granted (or denied) one (or more) actions can be taken by this module:</p><ul>
<li>Open the door.</li>
<li>Raise an alarm.</li>
<li>...</li>
</ul>
<p>The main goal of this module is to trigger action on others components in the system. This is done by sending message to them.</p>
<h1><a class="anchor" id="mod_doorman_user_config"></a>
Configuration Options</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Options </th><th class="markdownTableHeadNone">Options </th><th class="markdownTableHeadNone">Options </th><th class="markdownTableHeadNone">Options </th><th class="markdownTableHeadNone">Options </th><th class="markdownTableHeadNone">Description </th><th class="markdownTableHeadNone">Mandatory  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">instances </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Multiples (unrelated) doorman instance are allowed </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">instance </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Configuration information for 1 instance </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">name </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Name of this doorman instance </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">auth_contexts </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Message from multiple contexts can lead to the same action </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">auth_context </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Information for an Auth Context </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">name </td><td class="markdownTableBodyNone">Name of the auth context we are using </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">actions </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Configure the actions to take when something happens </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">action </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Configuration information for one action </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">on </td><td class="markdownTableBodyNone">When should the action be taken (DENIED / GRANTED) </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">target </td><td class="markdownTableBodyNone">Name of the targeted object that will receive the action command </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">cmd </td><td class="markdownTableBodyNone">Description for the command that will be sent </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">doors </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Optionally declares the doors </td><td class="markdownTableBodyNone">NO  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">door </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Declare one door </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">name </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">A name for the door </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">gpio </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">The GPIO to turn on/off based on the door's state </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">on </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Some schedules for when the door is in "always open" mode </td><td class="markdownTableBodyNone">NO  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">schedules </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">See <a class="el" href="../../d4/dae/page_module_authfile.html#mod_auth_sched_declare">here</a> to learn how to declare schedules </td><td class="markdownTableBodyNone">YES  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">off </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Some schedules for when the door is in "always closed" mode </td><td class="markdownTableBodyNone">NO  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">&mdash;&gt; </td><td class="markdownTableBodyNone">schedules </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">See <a class="el" href="../../d4/dae/page_module_authfile.html#mod_auth_sched_declare">here</a> to learn how to declare schedules </td><td class="markdownTableBodyNone">YES  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>The <code>&lt;cmd&gt;</code> tag is quite simple. It looks like this: <div class="fragment"><div class="line">&lt;<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">f1</span>&gt;<span class="keyword">GREEN_LED</span>&lt;/<span class="keywordtype">f1</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">f2</span>&gt;<span class="keyword">ON</span>&lt;/<span class="keywordtype">f2</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">f3</span>&gt;1500&lt;/<span class="keywordtype">f3</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">cmd</span>&gt;</div>
</div><!-- fragment --></dd></dl>
<p>For each frame you want in the command message, use <code>&lt;fX&gt;</code> where <code>X</code> is growing for each frame you want.</p>
<p>@hr</p>
<dl class="section note"><dt>Note</dt><dd><code>instances.instance.actions.action.target</code> is the name of an object that has been defined in the system. It could be the name of a GPIO you defined before ("my_super_gpio") or some reader object ("my_wiegand1"), etc.</dd></dl>
<p>@hr</p>
<dl class="section note"><dt>Note</dt><dd>Declaring <code>doors</code> is optional, and is only ever useful if you make use of the "always open" or "always close" feature.</dd></dl>
<h2><a class="anchor" id="mod_doorman_example_0"></a>
Example 0</h2>
<p>This is a very simple example that requires a component named "gpio_door" to open for 2.5 seconds when an successful authentication happens. If the authentication fails, it would ask the "led_failure" to turns on to 2.5s.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span>&gt;</div>
<div class="line">    <span class="comment">&lt;!-- Doorman module: react to authentication broadcast --&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">DOORMAN</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span>&gt;<span class="keyword">libdoorman.so</span>&lt;/<span class="keywordtype">file</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">level</span>&gt;50&lt;/<span class="keywordtype">level</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">module_config</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">instances</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">instance</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">DOORMAN_JARVIS_1</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">auth_contexts</span>&gt;</div>
<div class="line">                    &lt;<span class="keywordtype">auth_context</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">AUTH_CONTEXT_1</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">auth_context</span>&gt;</div>
<div class="line">                &lt;/<span class="keywordtype">auth_contexts</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">actions</span>&gt;</div>
<div class="line">                    &lt;<span class="keywordtype">action</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">on</span>&gt;<span class="keyword">DENIED</span>&lt;/<span class="keywordtype">on</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">target</span>&gt;<span class="keyword">led_failure</span>&lt;/<span class="keywordtype">target</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f1</span>&gt;<span class="keyword">ON</span>&lt;/<span class="keywordtype">f1</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f2</span>&gt;2500&lt;/<span class="keywordtype">f2</span>&gt;</div>
<div class="line">                        &lt;/<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">action</span>&gt;</div>
<div class="line">                    &lt;<span class="keywordtype">action</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">on</span>&gt;<span class="keyword">GRANTED</span>&lt;/<span class="keywordtype">on</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">target</span>&gt;<span class="keyword">gpio_door</span>&lt;/<span class="keywordtype">target</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f1</span>&gt;<span class="keyword">ON</span>&lt;/<span class="keywordtype">f1</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f2</span>&gt;2500&lt;/<span class="keywordtype">f2</span>&gt;</div>
<div class="line">                        &lt;/<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">action</span>&gt;</div>
<div class="line">                &lt;/<span class="keywordtype">actions</span>&gt;</div>
<div class="line">            &lt;/<span class="keywordtype">instance</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">instances</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">module_config</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="mod_doorman_example_1"></a>
Example 1</h2>
<p>The following example file defines the following:</p><ul>
<li>The door is always open on wednesday, between 13:13 and 13:15.</li>
<li>The door is always closed on wednesday, between 13:15 and 15:16.</li>
<li>On successful authentication (except when always open/close) we send the <code>GREEN_LED</code> (with <code>ON</code> and <code>1500</code> as parameters) command to the <code>MY_WIEGAND_1</code> device. This will light the green led of the reader for 1.5second.</li>
<li>On failure (again, except when always open/close) we send the <code>ON</code> command (with <code>500</code> as parameter) to the <code>wiegand_buzzer</code> GPIO, causing the device to beep for 0.5 second.</li>
</ul>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span>&gt;</div>
<div class="line">    <span class="comment">&lt;!-- Doorman module: react to authentication broadcast --&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">DOORMAN</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span>&gt;<span class="keyword">libdoorman.so</span>&lt;/<span class="keywordtype">file</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">level</span>&gt;50&lt;/<span class="keywordtype">level</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">module_config</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">doors</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">door</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">MyDoor</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">gpio</span>&gt;<span class="keyword">gpio_door</span>&lt;/<span class="keywordtype">gpio</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">on</span>&gt;</div>
<div class="line">                    <span class="comment">&lt;!-- Schedule for when the door is always open --&gt;</span></div>
<div class="line">                    &lt;<span class="keywordtype">schedules</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">schedule</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">we_do_not_care</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">wednesday</span>&gt;</div>
<div class="line">                                &lt;<span class="keywordtype">start</span>&gt;13:13&lt;/<span class="keywordtype">start</span>&gt;</div>
<div class="line">                                &lt;<span class="keywordtype">end</span>&gt;13:15&lt;/<span class="keywordtype">end</span>&gt;</div>
<div class="line">                            &lt;/<span class="keywordtype">wednesday</span>&gt;</div>
<div class="line">                        &lt;/<span class="keywordtype">schedule</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">schedules</span>&gt;</div>
<div class="line">                &lt;/<span class="keywordtype">on</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">off</span>&gt;</div>
<div class="line">                    <span class="comment">&lt;!-- Schedule for when the door is always open --&gt;</span></div>
<div class="line">                    &lt;<span class="keywordtype">schedules</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">schedule</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">we_still_dont_care</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">wednesday</span>&gt;</div>
<div class="line">                                &lt;<span class="keywordtype">start</span>&gt;13:15&lt;/<span class="keywordtype">start</span>&gt;</div>
<div class="line">                                &lt;<span class="keywordtype">end</span>&gt;15:16&lt;/<span class="keywordtype">end</span>&gt;</div>
<div class="line">                            &lt;/<span class="keywordtype">wednesday</span>&gt;</div>
<div class="line">                        &lt;/<span class="keywordtype">schedule</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">schedules</span>&gt;</div>
<div class="line">                &lt;/<span class="keywordtype">off</span>&gt;</div>
<div class="line">            &lt;/<span class="keywordtype">door</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">doors</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">instances</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">instance</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">DOORMAN_JARVIS_1</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">auth_contexts</span>&gt;</div>
<div class="line">                    &lt;<span class="keywordtype">auth_context</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">name</span>&gt;<span class="keyword">AUTH_CONTEXT_1</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">auth_context</span>&gt;</div>
<div class="line">                &lt;/<span class="keywordtype">auth_contexts</span>&gt;</div>
<div class="line">                &lt;<span class="keywordtype">actions</span>&gt;</div>
<div class="line">                    &lt;<span class="keywordtype">action</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">on</span>&gt;<span class="keyword">DENIED</span>&lt;/<span class="keywordtype">on</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">target</span>&gt;<span class="keyword">wiegand_buzzer</span>&lt;/<span class="keywordtype">target</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f1</span>&gt;<span class="keyword">ON</span>&lt;/<span class="keywordtype">f1</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f2</span>&gt;500&lt;/<span class="keywordtype">f2</span>&gt;</div>
<div class="line">                        &lt;/<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">action</span>&gt;</div>
<div class="line">                    &lt;<span class="keywordtype">action</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">on</span>&gt;<span class="keyword">GRANTED</span>&lt;/<span class="keywordtype">on</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">target</span>&gt;<span class="keyword">MY_WIEGAND_1</span>&lt;/<span class="keywordtype">target</span>&gt;</div>
<div class="line">                        &lt;<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f1</span>&gt;<span class="keyword">GREEN_LED</span>&lt;/<span class="keywordtype">f1</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f2</span>&gt;<span class="keyword">ON</span>&lt;/<span class="keywordtype">f2</span>&gt;</div>
<div class="line">                            &lt;<span class="keywordtype">f3</span>&gt;1500&lt;/<span class="keywordtype">f3</span>&gt;</div>
<div class="line">                        &lt;/<span class="keywordtype">cmd</span>&gt;</div>
<div class="line">                    &lt;/<span class="keywordtype">action</span>&gt;</div>
<div class="line">                &lt;/<span class="keywordtype">actions</span>&gt;</div>
<div class="line">            &lt;/<span class="keywordtype">instance</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">instances</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">module_config</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="mod_doorman_relay_wiring"></a>
Relay Wiring</h1>
<div class="image">
<img src="../../doorrelay.png" alt=""/>
<div class="caption">
Relay Wiring</div></div>
   <p>The relay is used to control the door. Here it is materialized by a lamp for the sake of simplicity, but feel free to replace it by the mechanism you want to use to open the door, like an electric strike. If you really don't have this hardware now, you could also just left the controlled circuit open (just wire the GPIO), and you'll hear the relay click when the door is activated. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Leosac Manual</a></li><li class="navelem"><a class="el" href="../../d9/d1d/page_doc_content.html">Documentation</a></li><li class="navelem"><a class="el" href="../../da/dca/page_module.html">Modules</a></li>
    <li class="footer">Generated on Sat Mar 5 2022 15:17:42 for Leosac by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
